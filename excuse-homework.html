<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Homework Excuse Generator</title>
<!-- Google Fonts for handwriting style -->
<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Indie+Flower&family=Gloria+Hallelujah&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Patrick Hand', 'Comic Sans MS', 'Indie Flower', 'Gloria Hallelujah', cursive, sans-serif;
    background: #fdf6e3;
    background-image:
      repeating-linear-gradient(0deg, transparent, transparent 23px, #f5e9c6 24px, transparent 25px),
      linear-gradient(120deg, rgba(255,255,255,0.08) 0%, rgba(205,205,205,0.04) 100%);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    min-height: 100vh;
    margin: 0;
    padding-top: 40px;
    /* Animate background position for a happy, lively effect */
    animation: bgmove 12s linear infinite alternate;
    background-size: 100% 100%, 100% 100%;
  }

  @keyframes bgmove {
    0% {
      background-position: 0 0, 0 0;
    }
    50% {
      background-position: 10px 10px, 20px 20px;
    }
    100% {
      background-position: -10px -10px, -20px -20px;
    }
  }
  #excuse {
    margin: 20px;
    font-size: 1.5rem;
    max-width: 600px;
    text-align: center;
    color: #333;
    padding: 24px 28px;
    border: 2px dashed #b4975a;
    border-radius: 14px;
    background: #fff8dc;
    box-shadow: 2px 3px 8px rgba(0,0,0,0.10), 0 1px 0 #e7d7b1 inset;
    font-family: inherit;
    position: relative;
    /* subtle paper texture overlay */
    background-image: url('https://www.transparenttextures.com/patterns/paper-fibers.png'), linear-gradient(120deg, rgba(255,255,255,0.08) 0%, rgba(205,205,205,0.04) 100%);
    background-blend-mode: lighten;
  }
  button {
    padding: 15px 36px;
    font-size: 1.3rem;
    background-color: #fff8dc;
    border: 2px solid #c19a6b;
    color: #6b4f1d;
    border-radius: 10px;
    cursor: pointer;
    font-family: inherit;
    box-shadow: 2px 3px 5px rgba(0,0,0,0.10);
    transition: box-shadow 0.1s, transform 0.1s, background 0.2s;
    outline: none;
    margin-bottom: 10px;
    position: relative;
  }
  button:hover {
    background: #f5e9c6;
    box-shadow: 1px 1.5px 2px rgba(0,0,0,0.13) inset, 2px 3px 5px rgba(0,0,0,0.10);
    transform: translateY(2px);
  }
  button:active {
    background: #f3e3b7;
    box-shadow: 0 0 0 rgba(0,0,0,0.10);
    transform: translateY(4px);
  }

  h2.smooth-line {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.2rem;
    color: #111;
    margin-bottom: 10px;
    margin-top: 0;
    min-height: 60px;
    font-family: 'Gloria Hallelujah', 'Patrick Hand', 'Comic Sans MS', cursive, sans-serif;
    letter-spacing: 1px;
    font-weight: normal;
    z-index: 1;
  }
  h2.smooth-line span {
    position: relative;
    background: #fdf6e3;
    padding: 0 18px;
    z-index: 1;
    border-radius: 6px;
  }
  h2.smooth-line::before {
    content: '';
    position: absolute;
    left: 50%;
    top: 10%;
    transform: translateX(-50%);
    width: 4px;
    height: 80%;
    background: linear-gradient(to bottom, #bbb 0%, #eee 100%);
    border-radius: 2px;
    z-index: 0;
    opacity: 0.5;
    pointer-events: none;
  }
  /* horizontal line below h2 */
  .h2-hr {
    width: 100%;
    max-width: 340px;
    margin: 0 auto 24px auto;
    border: none;
    border-top: 2.5px solid #bbb;
    border-radius: 2px;
    background: linear-gradient(to right, #eee, #bbb 50%, #eee);
    height: 0;
    opacity: 0.7;
    box-shadow: 0 1px 0 #fff8dc;
  }
</style>
</head>
<body>


<h2 class="smooth-line"><span>Homework Excuse Generator</span></h2>
<hr class="h2-hr" />

<div id="excuse">Click the button to get a homework excuse!</div>
<div style="display:flex; gap:12px; justify-content:center; align-items:center; margin-bottom:10px;">
  <button onclick="getExcuse()">Get Excuse</button>
  <button id="copyBtn" onclick="copyExcuse()" title="Copy to clipboard">Copy excuse</button>
</div>

<div style="margin-top:20px;">
  <label>
    <input type="checkbox" id="translateToggle" onchange="toggleTranslate()"> Translate: Enable/Disable
  </label>
  <select id="languageSelect" style="display:none; margin-left:10px;">
    <option value="zh-CN">Chinese (Simplified)</option>
    <option value="en">English</option>
    <option value="es">Spanish</option>
    <option value="fr">French</option>
    <option value="de">German</option>
    <option value="ja">Japanese</option>
    <option value="ru">Russian</option>
    <option value="ko">Korean</option>
    <option value="ar">Arabic</option>
    <option value="hi">Hindi</option>
    <!-- Add more as needed -->
  </select>
</div>

<script>
  // Copy excuse to clipboard
  function copyExcuse() {
    const excuseText = document.getElementById('excuse').innerText;
    if (!excuseText) return;
    navigator.clipboard.writeText(excuseText).then(() => {
      const btn = document.getElementById('copyBtn');
      const orig = btn.innerText;
      btn.innerText = 'Copied!';
      btn.disabled = true;
      setTimeout(() => {
        btn.innerText = orig;
        btn.disabled = false;
      }, 900);
    });
  }
  let lastExcuse = "Click the button to get a homework excuse!";
  let lastOriginalExcuse = lastExcuse;
  let isTranslating = false;

  const subjects = [
  "my dog who joined an intergalactic spy agency",
  "my little brother who drank 3 cans of soda and went turbo",
  "my socks who became sentient and started a rebellion",
  "my cat who started a secret underground homework trading network",
  "a ninja squirrel who sabotaged my backpack",
  "my goldfish who hacked into my laptop again",
  "a sneaky ghost who snuck into my room last night",
  "the WiFi monster in my router who woke up angry",
  "a raccoon from the dumpster broke into my room",
  "my robot vacuum who gained self-awareness",
  "my neighbor’s parrot who learned hacking",
  "a time-traveling pigeon from the future",
  "my toaster who believes it's a spaceship",
  "a swarm of ants carrying microchips",
  "my hoodie that became a superhero overnight",
  "a frog I trained in martial arts",
  "my mirror that opens to a homework dimension",
  "an alien disguised as my math book",
  "the wind spirit from the attic",
  "a banana peel with an evil plan"
];

const actions = [
  "stole my homework for a top-secret mission",
  "used my homework as a magical scroll and teleported away",
  "accidentally turned my homework into glitter while hyper-dancing",
  "shredded my homework in the great sock uprising",
  "sold my homework in exchange for tuna and laser pointers",
  "wrapped my homework around its vines and disappeared",
  "launched my homework off the balcony like a ninja star",
  "uploaded my homework to a secret goldfish-only internet",
  "erased my homework because it reminded them of algebra",
  "chewed through the router and zapped my homework into the cloud",
  "used my homework to build a robot army",
  "borrowed my homework as an ancient Earth artifact",
  "turned my homework into origami and mailed it to Japan",
  "used my homework as a treasure map and dug a hole in the yard",
  "ate my homework thinking it was a sandwich",
  "turned my homework into a paper airplane and launched it",
  "gave my homework to a talking vending machine",
  "hid my homework inside a snowman",
  "converted my homework into binary and lost the code",
  "mistook my homework for fan mail and burned it",
  "used my homework to fuel a potato-powered engine",
  "painted my homework as modern art",
  "sent my homework through a wormhole by accident",
  "used my homework as a shield during a Nerf war",
  "left my homework inside a VR headset",
  "mistook my homework for napkins at dinner",
  "traded my homework for a rare trading card",
  "uploaded my homework to a smart fridge by mistake",
  "wrote my homework on a balloon and it flew away",
  "shoved my homework in a sandwich to hide it from spies"
];

const reasons = [
  "Now the principal thinks I forged it with AI.",
  "Apparently, it’s being studied in a squirrel lab.",
  "No one knows where it went, but the plant looks happy.",
  "He said he'll return it after saving the multiverse.",
  "Now it’s classified under space law.",
  "My goldfish says it’s stuck in crypto now.",
  "I’m currently banned from turning in homework until Tuesday.",
  "My teacher’s clone is holding it hostage.",
  "It’s now encrypted in a haunted USB stick.",
  "Long story short: raccoons really like geometry.",
  "The janitor says he saw it floating through the vents.",
  "The government told me not to speak about it ever again.",
  "My teacher laughed for 10 minutes then gave me detention.",
  "It's being used as evidence in a squirrel court trial.",
  "Now it’s a legend among school ghosts.",
  "A secret agency asked me to never bring it up again.",
  "The time police are still figuring out what to do.",
  "It’s considered too powerful to be returned to Earth.",
  "Turns out, it's allergic to daylight now.",
  "My mirror says it doesn't exist in this timeline anymore."
];



  function getExcuse() {
    const subject = subjects[Math.floor(Math.random() * subjects.length)];
    const action = actions[Math.floor(Math.random() * actions.length)];
    const reason = reasons[Math.floor(Math.random() * reasons.length)];

    const excuse = `I couldn't turn in my homework because ${subject} ${action}. ${reason}`;
    lastExcuse = excuse;
    lastOriginalExcuse = excuse;
    if (isTranslating) {
      translateExcuse();
    } else {
      typeExcuse(excuse);
    }
  }

  function toggleTranslate() {
    const toggle = document.getElementById('translateToggle');
    const langSelect = document.getElementById('languageSelect');
    isTranslating = toggle.checked;
    if (isTranslating) {
      langSelect.style.display = '';
      translateExcuse();
    } else {
      langSelect.style.display = 'none';
      typeExcuse(lastOriginalExcuse);
    }
  }

  document.getElementById('languageSelect').addEventListener('change', function() {
    if (isTranslating) {
      translateExcuse();
    }
  });

  function translateExcuse() {
    const text = lastOriginalExcuse;
    const targetLang = document.getElementById('languageSelect').value;
    if (!text) return;
    // Try Google Translate first
    fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=${targetLang}&dt=t&q=${encodeURIComponent(text)}`)
      .then(res => res.json())
      .then(data => {
        if (data && Array.isArray(data[0])) {
          // Join all translation segments to avoid unwanted commas
          const translated = data[0].map(seg => seg[0]).join("");
          if (translated && translated.trim()) {
            typeExcuse(translated);
          } else {
            baiduTranslate(text, targetLang);
          }
        } else {
          // If Google returns unexpected data, try Baidu
          baiduTranslate(text, targetLang);
        }
      })
      .catch(() => {
        // If Google fails, try Baidu
        baiduTranslate(text, targetLang);
      });
  }

  // Baidu Translate fallback (demo, no API key, for real use you need to register and use your own credentials)
  function baiduTranslate(text, targetLang) {
    // Map Google/Baidu language codes (simplified for demo)
    const langMap = {
      'zh-CN': 'zh',
      'en': 'en',
      'es': 'spa',
      'fr': 'fra',
      'de': 'de',
      'ja': 'jp',
      'ru': 'ru',
      'ko': 'kor',
      'ar': 'ara',
      'hi': 'hi'
    };
    const toLang = langMap[targetLang] || 'en';
    // Baidu open API demo endpoint (for real use, replace with your own appid/signature)
    // This is a public demo endpoint and may not always work. For production, use your own Baidu Translate API credentials.
    const baiduUrl = `https://fanyi-api.baidu.com/api/trans/vip/translate?q=${encodeURIComponent(text)}&from=auto&to=${toLang}&appid=20230607001694213&salt=1435660288&sign=demo`;
    fetch(baiduUrl)
      .then(res => res.json())
      .then(data => {
        if (data && data.trans_result && data.trans_result[0] && data.trans_result[0].dst) {
          typeExcuse(data.trans_result[0].dst);
        } else {
          typeExcuse(text);
        }
      })
      .catch(() => {
        typeExcuse(text);
      });
  }

  // Typewriter animation for excuse text
  function typeExcuse(text) {
    const el = document.getElementById('excuse');
    el.innerText = '';
    let i = 0;
    function typeNext() {
      if (i <= text.length) {
        el.innerText = text.slice(0, i);
        i++;
        setTimeout(typeNext, 7 + Math.random() * 10);
      }
    }
    typeNext();
  }
</script>

</body>
</html>
